/**
* @file task_controler.cpp
*
* @author Hourui (liquidmonkey)
*/

#include "Utility/task_controler.hpp"
#include "Utility/task_object.hpp"
#include "Utility/task_dispatcher.hpp"
#include "Utility/logger.hpp"

namespace Utility
{
////////////////////////////////////////////////////////////////////////////////////////////////////
namespace task
{
////////////////////////////////////////////////////////////////////////////////////////////////////
void controler::init(dispatcher* _dispatcher) {
	if (m_dispatcher)
		Clog::error_throw(errors::logic, "controler initialized!");
	m_dispatcher = _dispatcher;
}
////////////////////////////////////////////////////////////////////////////////////////////////////
bool controler::dispatch_obj(object_iface* obj) { return dynamic_cast<object*>(obj)->exec_task(); }
////////////////////////////////////////////////////////////////////////////////////////////////////
}//namespace msg
////////////////////////////////////////////////////////////////////////////////////////////////////
}//namespace Utility 